{
  "info": {
    "name": "Clinic Management SaaS - Complete API",
    "_postman_id": "clinic-complete-collection",
    "description": "Complete API collection for Clinic Management SaaS including Auth, Users, Clinics, Patients, Appointments, Medical Records, Prescriptions, Invoices, Payments, Documents, Notifications, and File Upload",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000/api",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "clinicId",
      "value": "",
      "type": "string"
    },
    {
      "key": "patientId",
      "value": "",
      "type": "string"
    },
    {
      "key": "appointmentId",
      "value": "",
      "type": "string"
    },
    {
      "key": "documentId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üîê Auth",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"doctor@clinic.com\",\n  \"password\": \"SecurePass123\",\n  \"firstName\": \"Ahmed\",\n  \"lastName\": \"Hassan\",\n  \"phone\": \"+201234567890\",\n  \"role\": \"doctor\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          }
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.accessToken) {",
                  "    pm.collectionVariables.set(\"accessToken\", jsonData.data.accessToken);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"doctor@clinic.com\",\n  \"password\": \"SecurePass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "me"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/refresh-token",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh-token"]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"SecurePass123\",\n  \"newPassword\": \"NewPass456\",\n  \"confirmPassword\": \"NewPass456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "change-password"]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Ahmed\",\n  \"lastName\": \"Hassan\",\n  \"phone\": \"+201234567890\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "profile"]
            }
          }
        }
      ]
    },
    {
      "name": "üë• Users",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["users"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/:userId",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":userId"],
              "variable": [
                {
                  "key": "userId",
                  "value": ""
                }
              ]
            }
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Ahmed\",\n  \"lastName\": \"Hassan\",\n  \"phone\": \"+201234567890\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/:userId",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":userId"],
              "variable": [
                {
                  "key": "userId",
                  "value": ""
                }
              ]
            }
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/:userId",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":userId"],
              "variable": [
                {
                  "key": "userId",
                  "value": ""
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üè• Clinics",
      "item": [
        {
          "name": "Create Clinic",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.clinic) {",
                  "    pm.collectionVariables.set(\"clinicId\", jsonData.data.clinic._id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Dr. Ahmed Medical Clinic\",\n  \"phone\": \"+201234567890\",\n  \"email\": \"clinic@example.com\",\n  \"address\": {\n    \"street\": \"123 Medical Street\",\n    \"city\": \"Cairo\",\n    \"state\": \"Cairo\",\n    \"country\": \"Egypt\",\n    \"zipCode\": \"11511\"\n  },\n  \"workingHours\": {\n    \"monday\": { \"isOpen\": true, \"start\": \"09:00\", \"end\": \"17:00\" },\n    \"tuesday\": { \"isOpen\": true, \"start\": \"09:00\", \"end\": \"17:00\" },\n    \"wednesday\": { \"isOpen\": true, \"start\": \"09:00\", \"end\": \"17:00\" },\n    \"thursday\": { \"isOpen\": true, \"start\": \"09:00\", \"end\": \"17:00\" },\n    \"friday\": { \"isOpen\": false },\n    \"saturday\": { \"isOpen\": true, \"start\": \"10:00\", \"end\": \"14:00\" },\n    \"sunday\": { \"isOpen\": false }\n  },\n  \"specialties\": [\"General Medicine\", \"Pediatrics\"],\n  \"settings\": {\n    \"currency\": \"EGP\",\n    \"timezone\": \"Africa/Cairo\",\n    \"language\": \"ar\",\n    \"appointmentDuration\": 30\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/clinics",
              "host": ["{{baseUrl}}"],
              "path": ["clinics"]
            }
          }
        },
        {
          "name": "Get All Clinics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/clinics?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["clinics"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get Clinic by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/clinics/{{clinicId}}",
              "host": ["{{baseUrl}}"],
              "path": ["clinics", "{{clinicId}}"]
            }
          }
        },
        {
          "name": "Update Clinic",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Dr. Ahmed Medical Clinic - Updated\",\n  \"phone\": \"+201234567890\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/clinics/{{clinicId}}",
              "host": ["{{baseUrl}}"],
              "path": ["clinics", "{{clinicId}}"]
            }
          }
        },
        {
          "name": "Delete Clinic",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/clinics/{{clinicId}}",
              "host": ["{{baseUrl}}"],
              "path": ["clinics", "{{clinicId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "ü§í Patients",
      "item": [
        {
          "name": "Create Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.patient) {",
                  "    pm.collectionVariables.set(\"patientId\", jsonData.data.patient._id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clinicId\": \"{{clinicId}}\",\n  \"email\": \"patient@example.com\",\n  \"password\": \"Patient123\",\n  \"firstName\": \"Mohamed\",\n  \"lastName\": \"Ali\",\n  \"phone\": \"+201234567890\",\n  \"dateOfBirth\": \"1990-01-15\",\n  \"gender\": \"male\",\n  \"bloodGroup\": \"A+\",\n  \"address\": {\n    \"street\": \"456 Patient Street\",\n    \"city\": \"Cairo\",\n    \"country\": \"Egypt\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients",
              "host": ["{{baseUrl}}"],
              "path": ["patients"]
            }
          }
        },
        {
          "name": "Get All Patients",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patients?clinicId={{clinicId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["patients"],
              "query": [
                {
                  "key": "clinicId",
                  "value": "{{clinicId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get Patient by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}"]
            }
          }
        },
        {
          "name": "Update Patient",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+201234567890\",\n  \"bloodGroup\": \"A+\",\n  \"allergies\": [\"Penicillin\"],\n  \"chronicDiseases\": [\"Diabetes\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}"]
            }
          }
        },
        {
          "name": "Delete Patient",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}"]
            }
          }
        },
        {
          "name": "Search Patients",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patients/search?q=Mohamed",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "Mohamed"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üìÖ Appointments",
      "item": [
        {
          "name": "Create Appointment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.appointment) {",
                  "    pm.collectionVariables.set(\"appointmentId\", jsonData.data.appointment._id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"clinicId\": \"{{clinicId}}\",\n  \"scheduledDate\": \"2025-10-15\",\n  \"scheduledTime\": {\n    \"start\": \"10:00\",\n    \"end\": \"10:30\"\n  },\n  \"type\": \"consultation\",\n  \"reason\": \"Regular checkup\",\n  \"notes\": \"Patient has mild fever\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["appointments"]
            }
          }
        },
        {
          "name": "Get All Appointments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments?clinicId={{clinicId}}&status=scheduled",
              "host": ["{{baseUrl}}"],
              "path": ["appointments"],
              "query": [
                {
                  "key": "clinicId",
                  "value": "{{clinicId}}"
                },
                {
                  "key": "status",
                  "value": "scheduled"
                }
              ]
            }
          }
        },
        {
          "name": "Get Appointment by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "{{appointmentId}}"]
            }
          }
        },
        {
          "name": "Update Appointment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"confirmed\",\n  \"notes\": \"Patient confirmed appointment\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "{{appointmentId}}"]
            }
          }
        },
        {
          "name": "Cancel Appointment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"cancelled\",\n  \"cancellationReason\": \"Patient not available\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "{{appointmentId}}"]
            }
          }
        },
        {
          "name": "Complete Appointment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\",\n  \"diagnosis\": \"Common cold\",\n  \"treatment\": \"Rest and fluids\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "{{appointmentId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üìã Medical Records",
      "item": [
        {
          "name": "Create Medical Record",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"clinicId\": \"{{clinicId}}\",\n  \"appointmentId\": \"{{appointmentId}}\",\n  \"chiefComplaint\": \"Fever and headache\",\n  \"presentIllness\": \"Patient has had fever for 2 days\",\n  \"diagnosis\": \"Viral infection\",\n  \"treatment\": \"Paracetamol 500mg\",\n  \"vitalSigns\": {\n    \"temperature\": 38.5,\n    \"bloodPressure\": \"120/80\",\n    \"heartRate\": 80,\n    \"respiratoryRate\": 18\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/medical-records",
              "host": ["{{baseUrl}}"],
              "path": ["medical-records"]
            }
          }
        },
        {
          "name": "Get All Medical Records",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/medical-records?patientId={{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["medical-records"],
              "query": [
                {
                  "key": "patientId",
                  "value": "{{patientId}}"
                }
              ]
            }
          }
        },
        {
          "name": "Get Medical Record by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/medical-records/:recordId",
              "host": ["{{baseUrl}}"],
              "path": ["medical-records", ":recordId"],
              "variable": [
                {
                  "key": "recordId",
                  "value": ""
                }
              ]
            }
          }
        },
        {
          "name": "Update Medical Record",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"diagnosis\": \"Viral infection - confirmed\",\n  \"treatment\": \"Paracetamol 500mg, rest\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/medical-records/:recordId",
              "host": ["{{baseUrl}}"],
              "path": ["medical-records", ":recordId"],
              "variable": [
                {
                  "key": "recordId",
                  "value": ""
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üíä Prescriptions",
      "item": [
        {
          "name": "Create Prescription",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"clinicId\": \"{{clinicId}}\",\n  \"appointmentId\": \"{{appointmentId}}\",\n  \"medications\": [\n    {\n      \"name\": \"Paracetamol\",\n      \"dosage\": \"500mg\",\n      \"frequency\": \"3 times daily\",\n      \"duration\": \"5 days\",\n      \"instructions\": \"Take after meals\"\n    },\n    {\n      \"name\": \"Amoxicillin\",\n      \"dosage\": \"250mg\",\n      \"frequency\": \"2 times daily\",\n      \"duration\": \"7 days\",\n      \"instructions\": \"Take with water\"\n    }\n  ],\n  \"notes\": \"Complete the full course\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/prescriptions",
              "host": ["{{baseUrl}}"],
              "path": ["prescriptions"]
            }
          }
        },
        {
          "name": "Get All Prescriptions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/prescriptions?patientId={{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["prescriptions"],
              "query": [
                {
                  "key": "patientId",
                  "value": "{{patientId}}"
                }
              ]
            }
          }
        },
        {
          "name": "Get Prescription by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/prescriptions/:prescriptionId",
              "host": ["{{baseUrl}}"],
              "path": ["prescriptions", ":prescriptionId"],
              "variable": [
                {
                  "key": "prescriptionId",
                  "value": ""
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üí∞ Invoices",
      "item": [
        {
          "name": "Create Invoice",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"clinicId\": \"{{clinicId}}\",\n  \"appointmentId\": \"{{appointmentId}}\",\n  \"items\": [\n    {\n      \"description\": \"Consultation Fee\",\n      \"quantity\": 1,\n      \"unitPrice\": 200,\n      \"total\": 200\n    },\n    {\n      \"description\": \"Lab Test\",\n      \"quantity\": 1,\n      \"unitPrice\": 150,\n      \"total\": 150\n    }\n  ],\n  \"subtotal\": 350,\n  \"tax\": 0,\n  \"discount\": 0,\n  \"total\": 350,\n  \"dueDate\": \"2025-10-20\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices",
              "host": ["{{baseUrl}}"],
              "path": ["invoices"]
            }
          }
        },
        {
          "name": "Get All Invoices",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices?clinicId={{clinicId}}&status=pending",
              "host": ["{{baseUrl}}"],
              "path": ["invoices"],
              "query": [
                {
                  "key": "clinicId",
                  "value": "{{clinicId}}"
                },
                {
                  "key": "status",
                  "value": "pending"
                }
              ]
            }
          }
        },
        {
          "name": "Get Invoice by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/:invoiceId",
              "host": ["{{baseUrl}}"],
              "path": ["invoices", ":invoiceId"],
              "variable": [
                {
                  "key": "invoiceId",
                  "value": ""
                }
              ]
            }
          }
        },
        {
          "name": "Update Invoice",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"paid\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices/:invoiceId",
              "host": ["{{baseUrl}}"],
              "path": ["invoices", ":invoiceId"],
              "variable": [
                {
                  "key": "invoiceId",
                  "value": ""
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üí≥ Payments",
      "item": [
        {
          "name": "Create Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"invoiceId\": \"invoice_id_here\",\n  \"patientId\": \"{{patientId}}\",\n  \"clinicId\": \"{{clinicId}}\",\n  \"amount\": 350,\n  \"method\": \"cash\",\n  \"notes\": \"Full payment\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": ["{{baseUrl}}"],
              "path": ["payments"]
            }
          }
        },
        {
          "name": "Get All Payments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payments?clinicId={{clinicId}}",
              "host": ["{{baseUrl}}"],
              "path": ["payments"],
              "query": [
                {
                  "key": "clinicId",
                  "value": "{{clinicId}}"
                }
              ]
            }
          }
        },
        {
          "name": "Get Payment by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payments/:paymentId",
              "host": ["{{baseUrl}}"],
              "path": ["payments", ":paymentId"],
              "variable": [
                {
                  "key": "paymentId",
                  "value": ""
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üìÑ Documents",
      "item": [
        {
          "name": "Get All Documents",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/documents?patientId={{patientId}}&clinicId={{clinicId}}",
              "host": ["{{baseUrl}}"],
              "path": ["documents"],
              "query": [
                {
                  "key": "patientId",
                  "value": "{{patientId}}"
                },
                {
                  "key": "clinicId",
                  "value": "{{clinicId}}"
                }
              ]
            }
          }
        },
        {
          "name": "Get Document by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/documents/{{documentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["documents", "{{documentId}}"]
            }
          }
        },
        {
          "name": "Update Document",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Lab Report\",\n  \"description\": \"Blood test results - updated\",\n  \"category\": \"lab-report\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/documents/{{documentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["documents", "{{documentId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üîî Notifications",
      "item": [
        {
          "name": "Get All Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          }
        },
        {
          "name": "Get Unread Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications?isRead=false",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "isRead",
                  "value": "false"
                }
              ]
            }
          }
        },
        {
          "name": "Mark Notification as Read",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications/:notificationId/read",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", ":notificationId", "read"],
              "variable": [
                {
                  "key": "notificationId",
                  "value": ""
                }
              ]
            }
          }
        },
        {
          "name": "Mark All as Read",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications/read-all",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "read-all"]
            }
          }
        }
      ]
    },
    {
      "name": "üì§ File Upload (NEW)",
      "item": [
        {
          "name": "Upload Profile Image",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "avatar",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload/profile",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "profile"]
            }
          }
        },
        {
          "name": "Upload Medical Document",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.document) {",
                  "    pm.collectionVariables.set(\"documentId\", jsonData.data.document._id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "document",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "patientId",
                  "value": "{{patientId}}",
                  "type": "text"
                },
                {
                  "key": "clinicId",
                  "value": "{{clinicId}}",
                  "type": "text"
                },
                {
                  "key": "title",
                  "value": "X-Ray Report",
                  "type": "text"
                },
                {
                  "key": "type",
                  "value": "x-ray",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "Chest X-Ray",
                  "type": "text"
                },
                {
                  "key": "category",
                  "value": "radiology",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload/document",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "document"]
            }
          }
        },
        {
          "name": "Upload Multiple Documents",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "documents",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "documents",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "patientId",
                  "value": "{{patientId}}",
                  "type": "text"
                },
                {
                  "key": "clinicId",
                  "value": "{{clinicId}}",
                  "type": "text"
                },
                {
                  "key": "type",
                  "value": "lab-report",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload/documents",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "documents"]
            }
          }
        },
        {
          "name": "Get File URL (Signed)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/upload/{{documentId}}/url?expiresIn=3600",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "{{documentId}}", "url"],
              "query": [
                {
                  "key": "expiresIn",
                  "value": "3600"
                }
              ]
            }
          }
        },
        {
          "name": "Delete Uploaded File",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/upload/{{documentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "{{documentId}}"]
            }
          }
        },
        {
          "name": "Get Storage Info (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/upload/info",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "info"]
            }
          }
        }
      ]
    },
    {
      "name": "üè• Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/health",
          "host": ["{{baseUrl}}"],
          "path": ["health"]
        }
      }
    }
  ]
}
